(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages-exam/pages/exam"],{"065a":function(e,n,t){"use strict";(function(e){t("6cdc");a(t("66fd"));var n=a(t("0a50"));function a(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},"0a50":function(e,n,t){"use strict";t.r(n);var a=t("9f996"),o=t("a925");for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t("846b"),t("b354");var i,u=t("f0c5"),s=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"5e8a5f26",null,!1,a["a"],i);n["default"]=s.exports},"0d7d":function(e,n,t){},8251:function(e,n,t){},"846b":function(e,n,t){"use strict";var a=t("0d7d"),o=t.n(a);o.a},9579:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t("3b2a"),o={name:"exam",data:function(){return{message:void 0,examInfo:{},examAnswer:{},examOptions:[],typeMap:{1:"form-radio",2:"form-checkbox",3:"form-input",4:"form-video",5:"form-image",6:"form-rate"}}},computed:{submitEnable:function(){var e=this,n=this.examOptions.filter((function(e){return e.required})).map((function(e){return e.code}));return n.filter((function(n){return e.examAnswer[n]&&e.examAnswer[n].length>0})).length===n.length}},onLoad:function(e){this.getExamInfo({})},methods:{goBack:function(){e.navigateBack({delta:1})},getExamInfo:function(){var n=this;(0,a.iclubApiExamStartExam)().then((function(t){if(console.log("res.data",t.data),n.examInfo=t.data||{},t.data){if(t.data.examResultCode)return void e.redirectTo({url:"/pages-exam/pages/examResult?code="+t.data.examResultCode});n.examOptions=n.transExamConfig(t.data.paperLibraryList||[],"1"===t.data.isopen),console.log("examOptions",n.examOptions)}})).catch((function(e){n.message=e.message,2016===e.code&&n.$refs.popup.open()}))},transExamConfig:function(e,n){var t=this;return e.map((function(e,n){return{subject:e.subject,fraction:e.fraction,examType:e.type,labelPosition:"top",code:e.objectCode,label:"".concat(e.subject),required:"1"===e.isMustAnswer,type:t.typeMap[e.type],inputType:"textarea",isView:!1,disabled:t.disabled,options:(e.subjectContent||[]).map((function(e){return{text:e,label:e,value:e}})),props:{extra:"1"===e.isStemOpen?e.stemDescription:""}}}))},submit:function(){var n=this;this.$refs.pf.handleSubmit().then((function(t){var o=n.examInfo,r=o.paperCode,i=o.isopen,u=o.ispage,s=o.israndom,c=o.businessCode,p=o.paperSynopsis,f=o.paperTotalScore,l=o.paperNumber,d=o.paperName,m=o.paperLibraryList;m.map((function(e){e.fillInAnswerfil=[].concat(n.examAnswer[e.objectCode]||"")}));var b={isopen:i,ispage:u,israndom:s,paperCode:r,businessCode:c,paperSynopsis:p,paperName:d,paperNumber:l,paperTotalScore:f,paperLibraryList:m};e.showLoading({title:"提交中...",mask:!0}),(0,a.iclubApiExamStartSubmitPaper)(b).then((function(t){e.hideLoading(),n.$refs.toast.show({message:"提交成功",complete:function(){e.redirectTo({url:"/pages-exam/pages/examResult?code="+t.data})}})}))}))}}};n.default=o}).call(this,t("543d")["default"])},"9f996":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return a}));var a={formIndex:function(){return Promise.all([t.e("common/vendor"),t.e("components/form/index")]).then(t.bind(null,"3950"))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,"27c0"))},globalCaptcha:function(){return Promise.all([t.e("common/vendor"),t.e("components/global/captcha")]).then(t.bind(null,"2e67"))},globalPrivacyPopup:function(){return t.e("components/global/privacy-popup").then(t.bind(null,"abb5"))},xToast:function(){return t.e("components/x/toast").then(t.bind(null,"f8a6"))}},o=function(){var e=this,n=e.$createElement;e._self._c},r=[]},a925:function(e,n,t){"use strict";t.r(n);var a=t("9579"),o=t.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(r);n["default"]=o.a},b354:function(e,n,t){"use strict";var a=t("8251"),o=t.n(a);o.a}},[["065a","common/runtime","common/vendor"]]]);