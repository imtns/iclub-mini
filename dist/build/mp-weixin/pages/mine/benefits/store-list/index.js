require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/benefits/store-list/index"],{"59bb":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var o={ikCustomHeader:function(){return Promise.all([t.e("common/vendor"),t.e("components/common/custom-header")]).then(t.bind(null,"3e50"))},xPlaceholder:function(){return t.e("components/x/placeholder").then(t.bind(null,"53a1"))},xSpin:function(){return t.e("components/x/spin").then(t.bind(null,"1d62"))},xEmpty:function(){return t.e("components/x/empty").then(t.bind(null,"72eb"))},uniTransition:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-transition/components/uni-transition/uni-transition")]).then(t.bind(null,"af3e"))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,"27c0"))},uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,"1a49"))},globalCaptcha:function(){return Promise.all([t.e("common/vendor"),t.e("components/global/captcha")]).then(t.bind(null,"2e67"))},globalPrivacyPopup:function(){return t.e("components/global/privacy-popup").then(t.bind(null,"abb5"))},xToast:function(){return t.e("components/x/toast").then(t.bind(null,"f8a6"))}},r=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){return e.$refs.rulePop.open()},e.e1=function(n){var t=n.show;return e.popShow=t},e.e2=function(n){return e.$refs.rulePop.close()})},i=[]},"6b22":function(e,n,t){"use strict";t.r(n);var o=t("59bb"),r=t("afb9");for(var i in r)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(i);t("c6a4");var u,l=t("f0c5"),c=Object(l["a"])(r["default"],o["b"],o["c"],!1,null,"37eb7376",null,!1,o["a"],u);n["default"]=c.exports},a22a:function(e,n,t){"use strict";(function(e){t("6cdc");o(t("66fd"));var n=o(t("6b22"));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},afb9:function(e,n,t){"use strict";t.r(n);var o=t("f9af"),r=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=r.a},c6a4:function(e,n,t){"use strict";var o=t("ebbe"),r=t.n(o);r.a},ebbe:function(e,n,t){},f9af:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("18a7"),r=l(t("033e")),i=l(t("01bf")),u=["welfareProductName","welfareProductCodeList"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return d(e)||f(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,n){if(e){if("string"===typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return p(e)}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){if(null==e)return{};var t,o,r=h(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function h(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}var v=function(){Promise.all([t.e("common/vendor"),t.e("pages/mine/benefits/store-list/FilterBox")]).then(function(){return resolve(t("e3b0"))}.bind(null,t)).catch(t.oe)},g=function(){t.e("pages/mine/benefits/store-list/ListItem").then(function(){return resolve(t("e3de"))}.bind(null,t)).catch(t.oe)},y=function(){t.e("pages/mine/benefits/widgets/product-list").then(function(){return resolve(t("b0a2"))}.bind(null,t)).catch(t.oe)},P=function(){t.e("pages/mine/benefits/widgets/rules").then(function(){return resolve(t("f5a6"))}.bind(null,t)).catch(t.oe)},w={components:{FilterBox:v,ListItem:g,ProductList:y,RuleBox:P},mixins:[r.default,i.default],data:function(){return{scrollTop:0,loading:!0,shareInfo:{title:"爱美客产品福利，等你来体验",imageUrl:"https://imeikud.oss-cn-beijing.aliyuncs.com/pcUploads/1701398724380/fuli-share.png"},filter:{cityName:"",cityCode:"",productName:"",welfareProductCodeList:[]},page:1,limit:10,total:0,list:[],popShow:!1}},watch:{filter:{handler:function(){this.page=1,this.list=[],this.getList()},deep:!0}},onShow:function(){},onPageScroll:function(e){this.scrollTop=e.scrollTop},methods:{handleProductChoose:function(){var e=this;this.$nextTick((function(){e.$refs.popup.open()}))},onFilterProductConfirm:function(e){this.$refs.popup.close();var n=e.map((function(e){return e.welfareProductName})).join(),t=e.map((function(e){return e.objectCode})),o=this.filter,r=(o.welfareProductName,o.welfareProductCodeList,b(o,u));this.filter=Object.assign({welfareProductName:n,welfareProductCodeList:t},r),this.$forceUpdate()},onFilterProductClose:function(){this.$refs.popup.close()},getList:function(){var e,n=this;(0,o.getAllShopList)((e={page:this.page,limit:this.limit},m(e,["香港","澳门","台湾"].includes(this.filter.cityName)?"provinceCode":"cityCode",this.filter.cityCode),m(e,"welfareProductCodeList",this.filter.welfareProductCodeList),e)).then((function(e){var t=e.data;n.list=[].concat(c(n.list),c(t.list)),1===n.page&&(n.total=t.totalCount)})).finally((function(){n.loadmore=!1,n.loading=!1}))}}};n.default=w}},[["a22a","common/runtime","common/vendor","pages/mine/common/vendor"]]]);