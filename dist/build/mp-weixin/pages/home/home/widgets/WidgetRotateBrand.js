(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home/widgets/WidgetRotateBrand"],{"205e6":function(t,e,n){"use strict";n.r(e);var a=n("e5ed"),r=n("e973");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("5fcc");var c,o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"0d513278",null,!1,a["a"],c);e["default"]=u.exports},"5fcc":function(t,e,n){"use strict";var a=n("6784"),r=n.n(a);r.a},6784:function(t,e,n){},e428:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("0493"),r=n("da46"),i=24,c={data:function(){return{tempBrands:[],startX:0,startY:0,startAngle:0,currentRotateValue:-30,lastRotateValue:-30,lastMoveDirection:0,center:{x:250,y:250},vibrateTimer:null,brands:[]}},computed:{},watch:{currentRotateValue:function(t){var e=this,n=Math.abs(t-this.lastRotateValue),a=this.calculateVibrateInterval(n);"devtools"===wx.getStorageSync("sysInfo").platform||this.vibrateTimer||(this.vibrateTimer=!0,setTimeout((function(){wx.vibrateShort({type:"light"}),e.vibrateTimer=null}),a))}},mounted:function(){this.fetchBrands()},methods:{fetchBrands:function(){var t=this,e=[];while(e.length<i)e=e.concat(r.brandList.slice(0,i-e.length));console.log("brand",e),this.brands=e,(0,a.getProductList)().then((function(e){t.tempBrands=e}))},calculateVibrateInterval:function(t){var e=20,n=200,a=n-t;return a=Math.max(e,a),a=Math.min(n,a),a},onTouchend:function(t){var e=360/i,n=this.currentRotateValue;1===this.lastMoveDirection?n=Math.ceil(n/e)*e:-1===this.lastMoveDirection&&(n=Math.floor(n/e)*e),this.animateToAngle(n),this.lastRotateValue=n},onTouchstart:function(t){this.startX=t.changedTouches[0].clientX,this.startY=t.changedTouches[0].clientY,this.startAngle=this.getCurrentAngle(this.startX,this.startY)},onTouchmove:function(t){var e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,a=e-this.startX,r=n-this.startY;if(Math.abs(a)>Math.abs(r)){var i=this.getCurrentAngle(e,n),c=i-this.startAngle;0!==c&&(this.lastMoveDirection=c>0?1:-1),this.currentRotateValue=this.lastRotateValue+c}},animateToAngle:function(t){var e=this,n=this.currentRotateValue,a=(t-n)/12,r=function r(){a>0&&n<t||a<0&&n>t?(n+=a,e.currentRotateValue=n,setTimeout(r,30)):e.currentRotateValue=t};r()},getCurrentAngle:function(t,e){var n=t-this.center.x,a=e-this.center.y;return 180*Math.atan2(a,n)/Math.PI},handleBrandClick:function(e){var n=this.tempBrands.find((function(t){return t.productName.includes(e.name)}));t.navigateTo({url:"/pages/product/detail?code=".concat(n.objectCode)})}}};e.default=c}).call(this,n("543d")["default"])},e5ed:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r=function(){var t=this,e=t.$createElement;t._self._c},i=[]},e973:function(t,e,n){"use strict";n.r(e);var a=n("e428"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/home/home/widgets/WidgetRotateBrand-create-component',
    {
        'pages/home/home/widgets/WidgetRotateBrand-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("205e6"))
        })
    },
    [['pages/home/home/widgets/WidgetRotateBrand-create-component']]
]);
