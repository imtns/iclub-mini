<x-section vue-id="77a2ff06-1" bind:__l="__l" vue-slots="{{['form']}}"><view class="form-wrapper" slot="form"><view class="title _div">购买信息</view><view style="display:flex;align-items:center;margin-bottom:20rpx;color:#666;font-weight:500;font-size:28rpx;" class="_div"><label class="_span"><label style="color:#dd524d;font-size:12px;" class="_span">*</label>消费针剂</label><label style="margin-left:256rpx;" class="_span"><label style="color:#dd524d;font-size:12px;" class="_span">*</label>消费支数</label></view><block wx:for="{{form.injectionVaccineInfoList}}" wx:for-item="product" wx:for-index="idx" wx:key="idx"><uni-forms class="vue-ref-in-for" vue-id="{{('77a2ff06-2-'+idx)+','+('77a2ff06-1')}}" label-width="{{200}}" label-position="top" model-value="{{form.injectionVaccineInfoList[idx]}}" data-ref="subformRef" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-sub _div"><view class="form-sub-item _div"><uni-forms-item vue-id="{{('77a2ff06-3-'+idx)+','+('77a2ff06-2-'+idx)}}" name="vaccineCode" bind:__l="__l" vue-slots="{{['default']}}"><x-picker bind:input="__e" vue-id="{{('77a2ff06-4-'+idx)+','+('77a2ff06-3-'+idx)}}" placeholder="请选择" is-picker="{{true}}" icon="arrowdown" styles="{{inputStyle}}" picker-key="message" picker-value="code" origin-range="{{productList}}" range="{{productPickerList}}" value="{{product.vaccineCode}}" data-event-opts="{{[['^input',[['__set_model',['$0','vaccineCode','$event',[]],[[['form.injectionVaccineInfoList','',idx]]]]]]]}}" bind:__l="__l"></x-picker></uni-forms-item></view><view class="form-sub-item _div"><uni-forms-item vue-id="{{('77a2ff06-5-'+idx)+','+('77a2ff06-2-'+idx)}}" name="vaccineNum" bind:__l="__l" vue-slots="{{['default']}}"><x-input bind:input="__e" vue-id="{{('77a2ff06-6-'+idx)+','+('77a2ff06-5-'+idx)}}" styles="{{inputStyle}}" type="number" min="{{1}}" max="{{9999}}" placeholder="请输入" value="{{product.vaccineNum}}" data-event-opts="{{[['^input',[['__set_model',['$0','vaccineNum','$event',[]],[[['form.injectionVaccineInfoList','',idx]]]]]]]}}" bind:__l="__l"></x-input></uni-forms-item></view><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({idx})}}" class="btn-delete" bindtap="__e"><image style="width:32rpx;height:32rpx;" src="https://udstatic.imeik.com/compressed/1745482317117_%E7%BC%96%E7%BB%84%207%402x.png" class="_img"></image></view></view></uni-forms></block><block wx:if="{{form.injectionVaccineInfoList.length<productList.length}}"><view data-event-opts="{{[['tap',[['onAddProductBuyInfo',['$event']]]]]}}" class="add" bindtap="__e"></view></block><uni-forms class="vue-ref" vue-id="{{('77a2ff06-7')+','+('77a2ff06-1')}}" label-width="{{200}}" label-position="top" model-value="{{form}}" data-ref="refForm" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms-item vue-id="{{('77a2ff06-8')+','+('77a2ff06-7')}}" required="{{true}}" label="注射城市" name="city" bind:__l="__l" vue-slots="{{['default']}}"><region-picker vue-id="{{('77a2ff06-9')+','+('77a2ff06-8')}}" input-value="{{null}}" depth="{{3}}" only-slot="{{true}}" data-event-opts="{{[['^data',[['onSelectArea']]]]}}" bind:data="__e" bind:__l="__l" vue-slots="{{['default']}}"><x-input vue-id="{{('77a2ff06-10')+','+('77a2ff06-9')}}" styles="{{inputStyle}}" disabled="{{true}}" readonly="{{true}}" value="{{form.city}}" placeholder="请选择" bind:__l="__l" vue-slots="{{['right']}}"><uni-icons style="position:relative;right:20rpx;" vue-id="{{('77a2ff06-11')+','+('77a2ff06-10')}}" type="arrowdown" color="#8E9296" slot="right" bind:__l="__l"></uni-icons></x-input></region-picker></uni-forms-item><uni-forms-item vue-id="{{('77a2ff06-12')+','+('77a2ff06-7')}}" required="{{true}}" label="注射机构" name="injectionInstitution" bind:__l="__l" vue-slots="{{['default']}}"><x-input bind:input="__e" vue-id="{{('77a2ff06-13')+','+('77a2ff06-12')}}" styles="{{inputStyle}}" placeholder="请输入" show-limit="{{true}}" value="{{form.injectionInstitution}}" data-event-opts="{{[['^input',[['__set_model',['$0','injectionInstitution','$event',[]],['form']]]]]}}" bind:__l="__l"></x-input></uni-forms-item><uni-forms-item vue-id="{{('77a2ff06-14')+','+('77a2ff06-7')}}" required="{{true}}" label="注射医生" name="injectionDoctor" bind:__l="__l" vue-slots="{{['default']}}"><x-input bind:input="__e" vue-id="{{('77a2ff06-15')+','+('77a2ff06-14')}}" styles="{{inputStyle}}" placeholder="请输入" maxlength="{{10}}" show-limit="{{true}}" value="{{form.injectionDoctor}}" data-event-opts="{{[['^input',[['__set_model',['$0','injectionDoctor','$event',[]],['form']]]]]}}" bind:__l="__l"></x-input></uni-forms-item><uni-forms-item vue-id="{{('77a2ff06-16')+','+('77a2ff06-7')}}" required="{{true}}" label="注射时间" name="injectionTime" bind:__l="__l" vue-slots="{{['default']}}"><s-datepicker vue-id="{{('77a2ff06-17')+','+('77a2ff06-16')}}" return-type="yyyy/MM/DD hh:mm:ss" value="{{$root.g0}}" data-event-opts="{{[['^show',[['handleDatePop']]],['^change',[['handleDateChange']]]]}}" bind:show="__e" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><x-input vue-id="{{('77a2ff06-18')+','+('77a2ff06-17')}}" styles="{{inputStyle}}" disabled="{{true}}" readonly="{{true}}" value="{{$root.g1}}" placeholder="请选择" bind:__l="__l" vue-slots="{{['right']}}"><image style="position:relative;right:20rpx;width:24rpx;height:24rpx;" src="https://udstatic.imeik.com/compressed/1745477259784_icon-search%402x.png" class="_img" slot="right"></image></x-input></s-datepicker></uni-forms-item></uni-forms></view></x-section>