require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages-activity/knowledge-challenge/ranking"],{"2afa":function(t,n,e){"use strict";e.r(n);var o=e("4d85"),i=e.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},"36ee":function(t,n,e){"use strict";e.r(n);var o=e("454f"),i=e("2afa");for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("501a");var c,s=e("f0c5"),l=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"7a955a66",null,!1,o["a"],c);n["default"]=l.exports},"454f":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={xContent:function(){return e.e("components/x/content").then(e.bind(null,"9fa5"))},ikCustomHeader:function(){return Promise.all([e.e("common/vendor"),e.e("components/common/custom-header")]).then(e.bind(null,"3e50"))},globalCaptcha:function(){return Promise.all([e.e("common/vendor"),e.e("components/global/captcha")]).then(e.bind(null,"2e67"))},globalPrivacyPopup:function(){return e.e("components/global/privacy-popup").then(e.bind(null,"abb5"))},xToast:function(){return e.e("components/x/toast").then(e.bind(null,"f8a6"))}},i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.infos.currentUser.userRankNum?t.maskPhoneNumber(t.infos.currentUser.userPhone):null),o=t.infos.currentUser.userRankNum?t.formatDateTime(t.infos.currentUser.userFinishTime):null,i=t.list.length>0?t.__map(t.list,(function(n,e){var o=t.__get_orig(n),i=t.maskPhoneNumber(n.userPhone),a=t.formatDateTime(n.userFinishTime);return{$orig:o,m2:i,m3:a}})):null;t._isMounted||(t.e0=function(n){t.noS=!1}),t.$mp.data=Object.assign({},{$root:{m0:e,m1:o,l0:i}})},a=[]},"4d85":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("7d1c"),i=function(){e.e("pages-activity/knowledge-challenge/components/PopRule").then(function(){return resolve(e("c31b"))}.bind(null,e)).catch(e.oe)},a={components:{PopRule:i},data:function(){return{rule:"",activityCode:"",noS:!1,transparent:!0,loadingShow:!0,isLast:!1,loading:!1,scrollBottom:!1,page:1,infos:{},list:[],rankUrl:["https://udstatic.imeik.com/pcUploads/1712648682339/1.png","https://udstatic.imeik.com/pcUploads/1712648336680/2.png","https://udstatic.imeik.com/pcUploads/1712648339696/3.png"]}},onPageScroll:function(t){this.transparent=t.scrollTop<60},onLoad:function(t){this.activityCode=t.activityCode,wx.hideShareMenu(),this.getInfos(),this.getActivity()},methods:{formatDateTime:function(t){var n=new Date(t),e=n.getFullYear(),o=("0"+(n.getMonth()+1)).slice(-2),i=("0"+n.getDate()).slice(-2),a=("0"+n.getHours()).slice(-2),c=("0"+n.getMinutes()).slice(-2),s=("0"+n.getSeconds()).slice(-2);return"".concat(e,".").concat(o,".").concat(i," ").concat(a,":").concat(c,":").concat(s)},maskPhoneNumber:function(t){var n=t.slice(0,3),e=t.slice(-4),o="****",i=n+o+e;return i},getActivity:function(){var t=this;(0,o.queryUnloginChallengeMatchActInfo)({activityCode:this.activityCode}).then((function(n){n.data.activityDesc&&(n.data.activityDesc=n.data.activityDesc.replace(/<td/g,'<td style="border: 1px solid #000;line-height: 1.5; min-width: 30px; padding: 3px 5px; text-align: left;"'),n.data.activityDesc=n.data.activityDesc.replace(/<th/g,'<th style="border: 1px solid #000;line-height: 1.5; min-width: 30px; padding: 3px 5px; text-align: left;"')),t.rule=n.data.activityDesc}))},getInfos:function(){var t=this;(0,o.queryRankingList)({activityCode:this.activityCode,page:this.page,limit:10}).then((function(n){t.infos=n.data,console.log("res.data.rankList.length",n.data.rankList.length),t.list=t.list.concat(n.data.rankList),t.list.length!==n.data.finishCount?(t.scrollBottom=!0,t.loading=!1):t.isLast=!0})).finally((function(){t.loadingShow=!1}))},handleScroll:function(t){var n=t.detail.scrollTop;n>0&&this.scrollBottom&&(this.scrollBottom=!1)},handleScrollToLower:function(){this.scrollBottom=!0,this.loadMore()},loadMore:function(){!this.loading&&this.scrollBottom&&(console.log("this.isLast",this.isLast),this.isLast||(this.loading=!0,this.scrollBottom=!1,this.page++,this.getInfos()))},onRuleClick:function(){this.noS=!0,this.$refs.rulePop.open()}}};n.default=a},"501a":function(t,n,e){"use strict";var o=e("7a10"),i=e.n(o);i.a},"7a10":function(t,n,e){},bd03:function(t,n,e){"use strict";(function(t){e("6cdc");o(e("66fd"));var n=o(e("36ee"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])}},[["bd03","common/runtime","common/vendor","pages-activity/common/vendor"]]]);