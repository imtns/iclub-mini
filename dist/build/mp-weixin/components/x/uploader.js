(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/x/uploader"],{"212a":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(i.bind(null,"1a49"))},xToast:function(){return i.e("components/x/toast").then(i.bind(null,"f8a6"))}},a=function(){var e=this,t=e.$createElement;e._self._c},l=[]},"3bc4":function(e,t,i){"use strict";i.r(t);var n=i("212a"),a=i("4882");for(var l in a)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(l);i("8d5f");var o,u=i("f0c5"),r=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"6becd7a2",null,!1,n["a"],o);t["default"]=r.exports},4882:function(e,t,i){"use strict";i.r(t);var n=i("ac0e"),a=i.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(l);t["default"]=a.a},"875c":function(e,t,i){},"8d5f":function(e,t,i){"use strict";var n=i("875c"),a=i.n(n);a.a},ac0e:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("5375"),a=i("ca00"),l={props:{isDelay:Boolean,disabled:Boolean,multiple:Boolean,showText:{type:Boolean,default:!0},uploadText:{type:String,default:"上传照片"},useBeforeRead:Boolean,uploadIcon:{type:String,default:"https://imeikud.oss-cn-beijing.aliyuncs.com/pcUploads/1706670226639/ziliao_Impor%402x%20(1).png"},afterRead:null,beforeRead:null,previewColumn:{type:Number,default:4},radius:{type:String,default:"32rpx"},previewGap:{type:Number,default:10},previewSize:{type:null,default:142},name:{type:null,default:""},accept:{type:String,default:"image"},filelist:{type:Array,default:function(){return[]}},maxSize:{type:Number,default:5},maxCount:{type:Number,default:20},deletable:{type:Boolean,default:!0},showUpload:{type:Boolean,default:!0},previewImage:{type:Boolean,default:!0},previewFullImage:{type:Boolean,default:!0},imageFit:{type:String,default:"scaleToFill"},sizeType:{type:Array,default:function(){return["original","compressed"]}},capture:{type:Array,default:function(){return["album","camera"]}}},data:function(){return{lists:[],isInCount:!0}},watch:{maxCount:{handler:function(e){this.isInCount=this.filelist.length<e},immediate:!0,deep:!0},filelist:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return Object.assign(Object.assign({},e),{isImage:(0,n.isImageFile)(e),audit:e.audit,deletable:"boolean"!==typeof e.deletable||e.deletable})}));this.lists=t,this.isInCount=t.length<this.maxCount},immediate:!0,deep:!0}},methods:{sizeStyle:function(e){function t(e){var t=getRegExp("^-?d+(.d+)?$");if(null!=e)return t.test(""+e)?e+"px":e}return{width:t(e.previewSize),height:t(e.previewSize)}},getDetail:function(e){return{name:this.name,index:null==e?this.filelist.length:e}},startUpload:function(){var t=this;if(this.disabled)this.$emit("disabled");else{var i=this.maxCount-this.lists.length;console.log("maxCount",i);var a=e.getSystemInfoSync(),l="android"===a.platform,o=function(){(0,n.chooseFile)(t.multiple,t.capture,t.sizeType,i).then((function(e){t.onBeforeRead(t.multiple?e:e[0])})).catch((function(e){t.$emit("error",e)}))};l&&this.isDelay?setTimeout(o,300):o()}},onBeforeRead:function(e){var t=this,i=this.beforeRead,a=this.useBeforeRead,l=!0;"function"===typeof i&&(l=i(e,this.getDetail())),a&&(l=new Promise((function(i,n){t.$emit("beforeread",Object.assign(Object.assign({file:e},t.getDetail()),{callback:function(e){e?i():n()}}))}))),l&&((0,n.isPromise)(l)?l.then((function(i){return t.onAfterRead(i||e)})):this.onAfterRead(e))},onAfterRead:function(e){var t=this;function i(e){return e/1e3/1e3}var n=Array.isArray(e)?e.some((function(e){return i(e.size)>t.maxSize})):i(e.size)>this.maxSize;if(this.multiple){var a=e.length;e=e.filter((function(e){return i(e.size)<t.maxSize})),n&&this.$emit("oversize",Object.assign({file:e},this.getDetail()),{total:a,left:a-e.length})}else if(n)return this.$refs.toast.show({message:"图片不能超过".concat(this.maxSize,"MB")}),void this.$emit("oversize",Object.assign({file:e},this.getDetail()));"function"===typeof this.afterRead&&this.afterRead(e,this.getDetail()),this.$emit("afterread",Object.assign({file:e},this.getDetail()))},deleteItem:function(e){this.$emit("delete",e)},onPreviewImage:function(e){if(this.previewFullImage){var t=this.lists[e];(0,a.ls)("preview",1),wx.previewImage({urls:this.lists.filter((function(e){return(0,n.isImageFile)(e)})).map((function(e){return e.url})),current:t.url,fail:function(){wx.showToast({title:"预览图片失败",icon:"none",duration:2e3})}})}}}};t.default=l}).call(this,i("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/x/uploader-create-component',
    {
        'components/x/uploader-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("3bc4"))
        })
    },
    [['components/x/uploader-create-component']]
]);
