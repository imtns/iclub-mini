(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/upload"],{"294f":function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(t("b645"));function n(e){return e&&e.__esModule?e:{default:e}}var a={name:"upload",props:{disabled:{type:Boolean,default:!1},uploadType:{type:String,default:"image"},placeholder:{type:String,default:"点击上传"},inputValue:{type:[String,Array],default:function(){return[]}},max:{type:Number,default:5}},data:function(){return{uploading:!1,fileList:[],videoList:[]}},watch:{inputValue:{handler:function(e){var i=this;e&&"image"===this.uploadType&&(this.fileList=[].concat(e)),this.$nextTick((function(){e&&"file"===i.uploadType&&(i.fileList=[].concat(e))}))},immediate:!0}},methods:{uploadFile:function(){var i=this;i.disabled||("video"!==this.uploadType?"file"!==this.uploadType?e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var t="image",n=e.tempFiles[0].path;i.uploading=!0,i.$emit("loading",!0),o.default.upload(n,t,(function(e){e?(console.log("图片上传成功",e),i.fileList.push(e),i.updateModel(),i.uploading=!1,i.$emit("loading",!1)):(console.log("图片上传失败，请稍后重试"),i.uploading=!1,i.$emit("loading",!1))}))}}):wx.chooseMessageFile({count:1,type:"all",success:function(e){i.uploadAllTypeFile(e)}}):e.chooseMedia({count:1,mediaType:["video"],sourceType:["album","camera"],maxDuration:30,success:function(e){e=e.tempFiles[0],console.log("chooseMedia",e),i.uploadVideo(e)}}))},uploadVideo:function(e){var i=this;this.uploading=!0,this.$emit("loading",!0);var t="video",n=e.thumbTempFilePath,a=e.tempFilePath;o.default.upload(a,t,(function(e){e?(console.log("视频上传成功",e),i.videoList.push(e),i.fileList.push(n),i.updateModel(),i.uploading=!1,i.$emit("loading",!1)):(console.log("视频上传失败，请稍后重试"),i.uploading=!1,i.$emit("loading",!1))}))},uploadAllTypeFile:function(i){var t=this,n="file",a=i.tempFiles[0],l=a.path;a.size>10485760?setTimeout((function(){e.showToast({title:"请上传不大于10M的文件",icon:"none"})}),500):(this.uploading=!0,this.$emit("loading",!0),o.default.upload(l,n,(function(e){e?(console.log("文件上传成功",e),t.fileList.push(e),t.updateModel(),t.uploading=!1,t.$emit("loading",!1)):(console.log("文件上传失败，请稍后重试"),t.uploading=!1,t.$emit("loading",!1))})))},deleteFile:function(e){this.fileList.splice(e,1),"video"===this.uploadType&&this.videoList.splice(e,1),this.updateModel()},updateModel:function(){var e=[].concat(this.fileList);"video"===this.uploadType&&(e=[].concat(this.videoList)),1===this.max&&(e=e[0]||""),this.$emit("input",e),this.$emit("change",e)},previewFile:function(i){e.previewImage({current:i,urls:this.fileList})}}};i.default=a}).call(this,t("543d")["default"])},"5f27":function(e,i,t){},"6ae8":function(e,i,t){"use strict";var o=t("5f27"),n=t.n(o);n.a},afca:function(e,i,t){"use strict";t.r(i);var o=t("294f"),n=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return o[e]}))}(a);i["default"]=n.a},c13c:function(e,i,t){"use strict";t.r(i);var o=t("e21a"),n=t("afca");for(var a in n)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(a);t("6ae8");var l,u=t("f0c5"),s=Object(u["a"])(n["default"],o["b"],o["c"],!1,null,"7c380be7",null,!1,o["a"],l);i["default"]=s.exports},e21a:function(e,i,t){"use strict";t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return o}));var o={ikLoading:function(){return t.e("components/common/loading").then(t.bind(null,"bf93"))},uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,"1a49"))}},n=function(){var e=this,i=e.$createElement;e._self._c},a=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/upload-create-component',
    {
        'components/common/upload-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("c13c"))
        })
    },
    [['components/common/upload-create-component']]
]);
